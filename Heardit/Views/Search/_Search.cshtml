@model IEnumerable<SpotifyAPI.Web.FullTrack>
<table class="table">
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    <div id="iframeOverlay" class="container">
                        <iframe id="@Html.DisplayFor(modelItem => item.Id)" style="border-radius:12px" src="https://open.spotify.com/embed/track/@Html.DisplayFor(modelItem => item.Id)?utm_source=generator&theme=0" width="100%" height="200" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                        <a class="overlay" asp-area="" asp-controller="Songs" asp-action="Index" asp-route-songId="@item.Id"></a>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>

@*@section Scripts {
    <script type='text/javascript'>
        $(function () {
            window.onSpotifyIframeApiReady = (IFrameAPI) => {
                let element = document.getElementById('embed-iframe');
                let options = {
                    uri: 'spotify:track:1Y373MqadDRtclJNdnUXVc'
                };
                let callback = (EmbedController) => {
                    document.querySelectorAll('#embed-iframe').forEach(
                        track => {
                            track.addEventListener('load', () => {
                                EmbedController.loadUri(track.dataset.spotifyId)
                            });
                        })
                };
                IFrameAPI.createController(element, options, callback);
            };
        });
    </script>*@

